# Configuración de n8n - Variables de Entorno
# Copia este archivo como .env y ajusta los valores según tus necesidades

# ===========================================
# CONFIGURACIÓN BÁSICA
# ===========================================

# Puerto donde se ejecutará n8n (por defecto: 5678)
N8N_PORT=5678

# Host donde se ejecutará n8n (por defecto: localhost)
N8N_HOST=localhost

# URL base para n8n (útil para webhooks y URLs públicas)
# N8N_EDITOR_BASE_URL=http://localhost:5678

# ===========================================
# BASE DE DATOS
# ===========================================

# Configuración de SQLite (recomendado para desarrollo)
DB_SQLITE_POOL_SIZE=5

# Para usar PostgreSQL (recomendado para producción)
# DB_TYPE=postgresdb
# DB_POSTGRESDB_HOST=localhost
# DB_POSTGRESDB_PORT=5432
# DB_POSTGRESDB_DATABASE=n8n
# DB_POSTGRESDB_USER=n8n_user
# DB_POSTGRESDB_PASSWORD=tu_password

# Para usar MySQL
# DB_TYPE=mysqldb
# DB_MYSQLDB_HOST=localhost
# DB_MYSQLDB_PORT=3306
# DB_MYSQLDB_DATABASE=n8n
# DB_MYSQLDB_USER=n8n_user
# DB_MYSQLDB_PASSWORD=tu_password

# ===========================================
# SEGURIDAD
# ===========================================

# Autenticación básica (recomendado para producción)
N8N_BASIC_AUTH_ACTIVE=false
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=cambiar_password_seguro

# Bloquear acceso a variables de entorno desde nodos
# true = más seguro, false = más flexible
N8N_BLOCK_ENV_ACCESS_IN_NODE=false

# Deshabilitar repositorios bare en Git Node (recomendado por seguridad)
N8N_GIT_NODE_DISABLE_BARE_REPOS=true

# Clave de encriptación para datos sensibles
# N8N_ENCRYPTION_KEY=tu_clave_de_encriptacion_muy_segura

# ===========================================
# RENDIMIENTO Y CARACTERÍSTICAS
# ===========================================

# Habilitar task runners (recomendado para futuras versiones)
N8N_RUNNERS_ENABLED=true

# Número máximo de ejecuciones concurrentes
# N8N_CONCURRENCY_PRODUCTION_LIMIT=10

# Timeout para ejecuciones (en segundos)
# EXECUTIONS_TIMEOUT=3600

# Mantener datos de ejecución
# EXECUTIONS_DATA_SAVE_ON_ERROR=all
# EXECUTIONS_DATA_SAVE_ON_SUCCESS=all
# EXECUTIONS_DATA_SAVE_MANUAL_EXECUTIONS=true

# ===========================================
# LOGGING
# ===========================================

# Nivel de logging (error, warn, info, verbose, debug, silly)
N8N_LOG_LEVEL=info

# Archivo de log (opcional)
# N8N_LOG_FILE=/path/to/n8n.log

# ===========================================
# WEBHOOKS
# ===========================================

# Puerto para webhooks (si es diferente al puerto principal)
# WEBHOOK_PORT=5679

# URL base para webhooks
# WEBHOOK_URL=http://localhost:5678

# ===========================================
# INTEGRACIÓN CON APIS_v2.3
# ===========================================

# URL de la API de WhatsApp del proyecto
WHATSAPP_API_URL=http://localhost:3000

# URL de la API principal del proyecto
MAIN_API_URL=http://localhost:8000

# URL de Flowise (si está configurado)
FLOWISE_API_URL=http://localhost:3001

# Base de datos del proyecto principal (para integración)
# PROJECT_DB_HOST=localhost
# PROJECT_DB_PORT=5432
# PROJECT_DB_NAME=apis_v2_3
# PROJECT_DB_USER=tu_usuario
# PROJECT_DB_PASSWORD=tu_password

# ===========================================
# CONFIGURACIÓN AVANZADA
# ===========================================

# Directorio para archivos temporales
# N8N_USER_FOLDER=/path/to/n8n/data

# Configuración de proxy (si es necesario)
# HTTP_PROXY=http://proxy.company.com:8080
# HTTPS_PROXY=http://proxy.company.com:8080

# Configuración de timezone
# GENERIC_TIMEZONE=America/Mexico_City

# Deshabilitar métricas (para mejor rendimiento)
# N8N_METRICS=false

# ===========================================
# DESARROLLO Y DEBUG
# ===========================================

# Modo de desarrollo
# NODE_ENV=development

# Habilitar debug para módulos específicos
# DEBUG=n8n*

# Recargar automáticamente en cambios (solo desarrollo)
# N8N_SKIP_WEBHOOK_DEREGISTRATION_SHUTDOWN=true